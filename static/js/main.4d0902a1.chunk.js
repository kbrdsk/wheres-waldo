(this["webpackJsonpwheres-waldo"]=this["webpackJsonpwheres-waldo"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a(30)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){var n={"./1.jpg":23,"./2.jpg":24,"./3.jpg":25,"./4.jpg":26,"./5.jpg":27,"./6.jpg":28,"./7.jpg":29};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id=22},function(e,t,a){e.exports=a.p+"static/media/1.a6be3e19.jpg"},function(e,t,a){e.exports=a.p+"static/media/2.3512905a.jpg"},function(e,t,a){e.exports=a.p+"static/media/3.5a72110d.jpg"},function(e,t,a){e.exports=a.p+"static/media/4.6c56a985.jpg"},function(e,t,a){e.exports=a.p+"static/media/5.b489d376.jpg"},function(e,t,a){e.exports=a.p+"static/media/6.ee0f5282.jpg"},function(e,t,a){e.exports=a.p+"static/media/7.21d007bc.jpg"},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a(4),r=a(1),c=a(6),i=a(5),o=a(0),u=a.n(o),l=a(9),d=a.n(l),m=(a(17),["dblPrev","prev","view","next","dblNext"]),p=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).images=s.props.images,s.state={timer:0,viewIndex:s.props.viewIndex,carouselFocus:0},s.createCarouselWindow=s.createCarouselWindow.bind(Object(r.a)(s)),s.createQuickNavButton=s.createQuickNavButton.bind(Object(r.a)(s)),s.advanceCarousel=s.advanceCarousel.bind(Object(r.a)(s)),s.regressCarousel=s.regressCarousel.bind(Object(r.a)(s)),s.updateTimer=s.updateTimer.bind(Object(r.a)(s)),s.timerId=setInterval(s.updateTimer,1e3),s}return Object(s.a)(a,[{key:"render",value:function(){return u.a.createElement("div",{className:"carousel-container"},Array(5).fill(null).map(this.createCarouselWindow),u.a.createElement("div",{className:"advance-button nav-button",onClick:this.advanceCarousel}),u.a.createElement("div",{className:"regress-button nav-button",onClick:this.regressCarousel}),u.a.createElement("div",{className:"quick-nav-container"},this.images.map(this.createQuickNavButton)))}},{key:"createCarouselWindow",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t[1],s=this.state.viewIndex,r=this.state.carouselFocus,c=h(n-r+2,5)-2,i=h(s+c,this.images.length);return u.a.createElement("div",{key:"carouselWindow".concat(n),className:"carousel-window","carousel-position":m[c+2],style:{backgroundImage:"url(".concat(this.images[i],")")}})}},{key:"createQuickNavButton",value:function(){for(var e=this,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];var s=a[1];return u.a.createElement("div",{className:"quick-nav-button",key:"quicknav".concat(s),onClick:function(){e.props.updateGameIndex(s),e.setState({viewIndex:s,timer:0})},highlighted:(this.state.viewIndex===s).toString()})}},{key:"advanceCarousel",value:function(){var e=this.state,t=e.viewIndex,a=e.carouselFocus;t=h(t+1,this.images.length),a=h(a+1,5),this.props.updateGameIndex(t),this.setState({viewIndex:t,carouselFocus:a,timer:0})}},{key:"regressCarousel",value:function(){var e=this.state,t=e.viewIndex,a=e.carouselFocus;t=h(t-1,this.images.length),a=h(a-1,5),this.props.updateGameIndex(t),this.setState({viewIndex:t,carouselFocus:a,timer:0})}},{key:"updateTimer",value:function(){this.setState({timer:this.state.timer+1}),8===this.state.timer&&this.advanceCarousel()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId)}}]),a}(u.a.Component);function h(e,t){return(e%t+t)%t}a(18);var v=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={gameIndex:s.props.gameIndex},s}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return u.a.createElement("div",{id:"menu"},u.a.createElement(p,{images:this.props.images,updateGameIndex:function(t){return e.setState({gameIndex:t})},viewIndex:this.state.gameIndex}),u.a.createElement("div",{id:"nav-buttons"},u.a.createElement("button",{className:"play",onClick:function(){return e.props.displayGame(e.state.gameIndex)}},"Play"),u.a.createElement("button",{className:"scores",onClick:this.props.displayScores},"Scores")))}}]),a}(u.a.Component),f=a(11),y=a(2),b=a.n(y),g=a(7),k=(a(20),function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={menu:!1,foundCharacters:[]},s.toggleMenu=s.toggleMenu.bind(Object(r.a)(s)),s.guess=s.guess.bind(Object(r.a)(s)),s.renderSelectButton=s.renderSelectButton.bind(Object(r.a)(s)),s.renderMenu=s.renderMenu.bind(Object(r.a)(s)),s.showMenu=s.showMenu.bind(Object(r.a)(s)),s.handleCorrectGuess=s.handleCorrectGuess.bind(Object(r.a)(s)),s.handleIncorrectGuess=s.handleIncorrectGuess.bind(Object(r.a)(s)),s.clearGuessResult=s.clearGuessResult.bind(Object(r.a)(s)),s}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return u.a.createElement("div",{id:"game"},u.a.createElement("button",{className:"back",onClick:function(){return e.props.endGame()}}),u.a.createElement("img",{src:this.props.image,alt:"",onMouseDown:this.toggleMenu,onMouseUp:this.showMenu}),this.state.menu?this.renderMenu():null,this.renderGuessResult())}},{key:"toggleMenu",value:function(e){this.clearGuessResult(),e.persist();var t=Math.random()*Math.PI,a=!this.state.menu;this.setState({mouseClick:e,menu:a,menuRotation:t,showMenu:!1})}},{key:"showMenu",value:function(){this.setState({showMenu:!0})}},{key:"renderMenu",value:function(){var e=this,t=this.props.characters.filter((function(t){return!e.state.foundCharacters.includes(t)})),a={x:this.state.mouseClick.clientX,y:this.state.mouseClick.clientY},n={position:"absolute",top:a.y,left:a.x};return u.a.createElement("div",{className:"menu",style:n},t.map(this.renderSelectButton))}},{key:"renderSelectButton",value:function(e,t){var a=this,n=6*t/5*Math.PI+this.state.menuRotation,s={x:6*Math.cos(n)-3,y:6*Math.sin(n)+3},r={top:-s.y.toString()+"em",right:s.x.toString()+"em"};return u.a.createElement("button",{className:this.state.showMenu?"":"hidden",key:e,style:this.state.showMenu?r:{top:"0em",right:"0em"},onClick:function(){return a.guess(e)}},e)}},{key:"guess",value:function(){var e=Object(g.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=j(this.state.mouseClick),e.next=3,x(this.props.id,t,a.x,a.y);case 3:e.sent?this.handleCorrectGuess(t):this.handleIncorrectGuess();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCorrectGuess",value:function(e){this.setState({foundCharacters:[].concat(Object(f.a)(this.state.foundCharacters),[e]),menu:!1,showMenu:!1,guessResult:"correct"}),this.state.foundCharacters.length===this.props.characters.length&&this.props.endGame(!0)}},{key:"handleIncorrectGuess",value:function(){this.setState({menu:!1,showMenu:!1,guessResult:"incorrect"})}},{key:"renderGuessResult",value:function(){var e=this.state.guessResult;if(!e)return null;this.resultTimer||(this.resultTimer=setTimeout(this.clearGuessResult,3e3));var t={x:this.state.mouseClick.clientX,y:this.state.mouseClick.clientY},a={position:"absolute",top:t.y,left:t.x};return u.a.createElement("div",{style:a,className:"guess-result ".concat(e)})}},{key:"clearGuessResult",value:function(){clearTimeout(this.resultTimer),this.resultTimer=null,this.setState({guessResult:null})}},{key:"componentWillUnmount",value:function(){this.clearGuessResult()}}]),a}(u.a.Component));function j(e){var t=e.target.getBoundingClientRect();return{x:100*(e.pageX-(t.x+window.scrollX))/t.width,y:100*(e.pageY-(t.y+window.scrollY))/t.height}}function x(e,t,a,n){return w.apply(this,arguments)}function w(){return(w=Object(g.a)(b.a.mark((function e(t,a,n,s){var r,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://us-central1-finding-beyonce.cloudfunctions.net/",r="?puzzleId=".concat(t,"&character=").concat(a,"&x=").concat(n,"&y=").concat(s),e.next=4,fetch("https://us-central1-finding-beyonce.cloudfunctions.net/replyToGuess"+r);case 4:return c=e.sent,e.next=7,c.json();case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=a(10),O=(a(21),"https://us-central1-finding-beyonce.cloudfunctions.net/"),S=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var s;Object(n.a)(this,a),s=t.call(this,e);var c={};return s.state={scores:c,imgId:0},s.props.images.forEach((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t[1];return c[n]=[]})),s.renderScore=s.renderScore.bind(Object(r.a)(s)),s.renderImgSelect=s.renderImgSelect.bind(Object(r.a)(s)),s.getScores=s.getScores.bind(Object(r.a)(s)),s.getScores(0),s}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.images[this.state.imgId];return u.a.createElement("div",{id:"scores"},u.a.createElement("div",{className:"img-select-menu"},this.props.images.map(this.renderImgSelect)),u.a.createElement("button",{className:"back",onClick:this.props.displayMenu}),u.a.createElement("div",{className:"score-list-container"},u.a.createElement("img",{className:"score-list-background",src:e,alt:""}),u.a.createElement("div",{className:"score-list"},this.state.scores[this.state.imgId].map(this.renderScore))))}},{key:"renderScore",value:function(e){var t=e.playerId.match(/^user_anon/)?"Anonymous":e.playerId;return u.a.createElement("div",{className:"score-listing",key:e.playerId},u.a.createElement("span",{className:"name"},t),u.a.createElement("span",{className:"score"},e.score))}},{key:"renderImgSelect",value:function(e,t){var a=this;return u.a.createElement("img",{key:"img-".concat(e),className:"img-select",src:e,alt:"",onClick:function(){a.getScores(t),a.setState({imgId:t})}})}},{key:"getScores",value:function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:a=e.sent,n=Object.assign(this.state.scores,Object(I.a)({},t,a)),this.setState({scores:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(u.a.Component),C=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={badName:!1,usedName:!1},s.setPlayerId=s.setPlayerId.bind(Object(r.a)(s)),s.submitScore=s.submitScore.bind(Object(r.a)(s)),s.printedScore=Math.floor(s.props.score/10)/100,s}return Object(s.a)(a,[{key:"render",value:function(){return u.a.createElement("div",{id:"score-submission"},u.a.createElement("div",{className:"form-container"},u.a.createElement("div",{className:"score-report"},"Time:"," ",u.a.createElement("span",{className:"printed-score"},this.printedScore)),this.state.usedName?u.a.createElement("div",{className:"name-error"},"A score has already been registered for that name."):this.state.badName?u.a.createElement("div",{className:"name-error"},"Please only use letters and numbers."):null,u.a.createElement("input",{className:"name-input",type:"text",placeholder:"Enter your name.",onChange:this.setPlayerId}),u.a.createElement("button",{className:"submit",onClick:this.submitScore},"Submit")))}},{key:"setPlayerId",value:function(e){this.setState({playerId:e.target.value})}},{key:"submitScore",value:function(){var e=Object(g.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.persist(),t.target.disabled){e.next=14;break}if(t.target.disabled=!0,(a=this.state.playerId||"").match(/^\w*$/)){e.next=7;break}return this.setState({badName:!0}),e.abrupt("return");case 7:return e.next=9,M(this.printedScore,this.props.gameId,a);case 9:if(e.sent){e.next=13;break}return this.setState({usedName:!0}),e.abrupt("return");case 13:this.props.displayScores();case 14:t.target.disabled=!1;case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(u.a.Component);function E(){return N.apply(this,arguments)}function N(){return(N=Object(g.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.ipify.org?format=json");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a.ip);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t,a){return G.apply(this,arguments)}function G(){return(G=Object(g.a)(b.a.mark((function e(t,a,n){var s,r,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n||(s=E(),n="user_anon#".concat(s)),r="?score=".concat(t,"&imgId=").concat(a,"&playerId=").concat(n),e.next=4,fetch(O+"registerScore"+r);case 4:return c=e.sent,e.next=7,c.json();case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return R.apply(this,arguments)}function R(){return(R=Object(g.a)(b.a.mark((function e(t){var a,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="?imgId=".concat(t),e.next=3,fetch(O+"getImgScores"+a);case 3:return n=e.sent,e.next=6,n.json();case 6:return s=e.sent,e.abrupt("return",s.sort(T));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){var a=e.score,n=t.score;return a<n?-1:a>n?1:0}var Q,P=(Q=a(22)).keys().map(Q),F=[["Beyonc\xe9","Beyonc\xe9's Queendom"],["Beyonc\xe9","Beyonc\xe9's Queendom"],["Beyonc\xe9","Beyonc\xe9's Queendom"],["Beyonc\xe9","Beyonc\xe9's Queendom"],["Beyonc\xe9","Beyonc\xe9's Queendom"],["Beyonc\xe9","Beyonc\xe9's Queendom"],["Beyonc\xe9","Beyonc\xe9's Queendom"]],W=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={display:null,gameIndex:0},s.displayGame=s.displayGame.bind(Object(r.a)(s)),s.displayMenu=s.displayMenu.bind(Object(r.a)(s)),s.displayScores=s.displayScores.bind(Object(r.a)(s)),s.endGame=s.endGame.bind(Object(r.a)(s)),s}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state.display,t=this.state.gameIndex,a=this.state.score;return u.a.createElement("div",{id:"app"},"menu"===e?u.a.createElement(v,{images:P,displayGame:this.displayGame,displayScores:this.displayScores,gameIndex:this.state.gameIndex}):"game"===e?u.a.createElement(k,{image:P[t],endGame:this.endGame,id:t,characters:F[t]}):"scores"===e?u.a.createElement(S,{displayMenu:this.displayMenu,images:P}):u.a.createElement("div",{id:"loading-image",onClick:this.displayMenu}),a?u.a.createElement(C,{score:a,displayScores:this.displayScores,gameId:t}):null)}},{key:"endGame",value:function(e){if(e){var t=Date.now()-this.startTime;this.setState({score:t})}else this.displayMenu()}},{key:"displayGame",value:function(e){this.startTime=Date.now(),this.setState({display:"game",gameIndex:e})}},{key:"displayMenu",value:function(){this.setState({display:"menu",score:null})}},{key:"displayScores",value:function(){this.setState({display:"scores",score:null})}}]),a}(u.a.Component);d.a.render(u.a.createElement(W,null),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.4d0902a1.chunk.js.map